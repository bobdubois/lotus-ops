# Filecoin新手矿工进阶之 - 主网篇

> 本文是我们团队运维Lotus一年多的实践经验整理及分享，Filecoin挖矿本身非常复杂，挖过的都懂。技术方案没有最好，只有更好。对本文有异议和怀疑的地方，请自行斟酌参考。

本文希望从Filecoin挖矿的硬件配置开始，帮助新手矿工梳理清Filecoin挖矿的整个流程，将挖矿集群完整搭建起来。

## 1. 硬件配置
### 1.1 组装机 vs 品牌机


### 1.2 单路 vs 双路

AMD 7542 yyds，7302 7742 7H12

### 1.3 硬件配置遇到的一些坑
二手翻新货  拆机货
  - CPU 二手CPU，拆机货
  - 显卡 翻新显卡 拆机卡
  - 内存
    - 三星
  - SSD
    - 翻新
    - 转接卡/转接线

## 存储方案
存储重要性

### 商业存储 vs 自建存储

## 机房组网
根据集群大小设计相应的网络架构
双交换机堆叠方案，支持3PB左右的集群

## 编译源码
准备编译环境 翻墙
Lotus编译的环境变量
Lotus编译

## 系统环境
基础库安装
时区校验
显卡驱动
  - 安装显卡驱动
  - 绑定显卡驱动和内核
禁用系统更新
拷贝二进制文件
  - 可执行目录权限设置
修改主机名
PreCommitWorker配置
  - SSD组Raid并挂载
  - SSD性能测试
机器检查

## 集群搭建
下载证明文件

同步Daemon节点

创建钱包

初始化并启动Miner

  - 禁用batch

集群管理常用命令 alias

